/*
 Hype Reactive Content 1.1.5
copyright (c) 2022 Max Ziebell, (https://maxziebell.de). MIT-license
*/
!1==="HypeReactiveContent"in window&&(window.HypeReactiveContent=function(){function e(a){return a?_default[a]:_default}function p(a,b){return a?a+"."+b:b}function u(a,b,d){d=d||"";return null==a||a[v]?a:new Proxy(a,{get:function(c,l,k){if("_key"===l)return d;if(l===v)return!0;c=Reflect.get(c,l,k);return"object"===typeof c?u(c,b,p(d,l)):c},set:function(c,l,k,g){var f=Reflect.set(c,l,k,g);b(l,k,c,g);return f}})}function x(a){if(!a[v])return a;var b={},d;for(d in a)if(a.hasOwnProperty(d)){var c=a[d];
b[d]="object"===typeof c?x(c):c}return b}function y(a){return function(){if(!a.timeout){var b=arguments;a.timeout=requestAnimationFrame(function(){a.apply(this,b);a.timeout=null}.bind(this))}}}function r(a,b,d,c){if(d){if("object"!==typeof d)return null}else{if(void 0===d)return null;d=b.customData}if(!1!=="HypeActionEvents"in window)return c=c||{},b.triggerAction(a,{element:c.element,event:{type:c.type},scope:d});try{var l=new Proxy(Object.assign({},b),{set:function(k,g,f,h){return Reflect.get(k,
g,h)?Reflect.set(k,g,f,h):Reflect.set(d,g,f)},get:function(k,g,f){return(k=Reflect.get(k,g,f))?k:Reflect.get(d,g)},has:function(k,g,f){return k.hasOwnProperty(g)||window[g]?Reflect.has(k,g,f):!0}});return(new Function("$context","with($context){ "+a+"}"))(l)}catch(k){console.error(k)}}function w(a,b,d){return d?r("return "+d,a,null,{element:b,type:"HypeReactiveScope"}):null}function A(a,b,d){!1==="HypeActionEvents"in window&&(b=d.customBehaviorName,"#"!=b.charAt(0)&&/[;=()]/.test(b)&&r(b,a,a.customData))}
var z=-1!=window.location.href.indexOf("/Hype/Scratch/HypeScratch.");_default={scopeSymbol:"\u21e2",visibilitySymbol:"\ud83d\udc41"};z&&(_default=Object.assign(_default,{highlightReactiveContent:!0,highlightVisibilityData:!0,highlightVisibilityArea:!0,highlightContentData:!0,highlightScopeData:!0}));var v=Symbol("isProxy");!1==="HYPE_eventListeners"in window&&(window.HYPE_eventListeners=[]);window.HYPE_eventListeners.push({type:"HypeDocumentLoad",callback:function(a,b,d){a.refreshReactiveContent=
function(c,l,k,g){void 0===c||void 0===l||/[;=()]/.test(l)||(a.triggerCustomBehaviorNamed(p(g._key,c)+" equals "+("string"===typeof l?'"'+l+'"':l)),console.log(p(g._key,c)));void 0!==c&&(e("customDataUpdate")&&e("customDataUpdate")(c,l,k,g),a.triggerCustomBehaviorNamed("customData was changed"),a.triggerCustomBehaviorNamed(p(g._key,c)+" was updated"),console.log(p(g._key,c)+" was updated"));document.getElementById(a.currentSceneId()).querySelectorAll("[data-content], [data-visibility]").forEach(function(f){var h=
f.getAttribute("data-content"),m=f.getAttribute("data-visibility"),n=null,q=null,t=e("scopeSymbol").length;h&&(h=h.trim(),h.startsWith(e("scopeSymbol"))?(h=h.slice(t),n=(n=f.closest("[data-scope]"))?w(a,f,n.getAttribute("data-scope")):null):h.includes(e("scopeSymbol"))&&(n=h.slice(0,h.indexOf(e("scopeSymbol"))),n=w(a,f,n),h=h.slice(h.indexOf(e("scopeSymbol"))+t)),h=r("return "+h,a,n,{element:f,type:"HypeReactiveContent"}),f.innerHTML=void 0!==h?h:"");m&&(m=m.trim(),m.startsWith(e("scopeSymbol"))?
(m=m.slice(t),q=n):m.includes(e("scopeSymbol"))&&(q=m.slice(0,m.indexOf(e("scopeSymbol"))),q=w(a,f,q),m=m.slice(m.indexOf(e("scopeSymbol"))+t)),m=r("return "+m,a,q,{element:f,type:"HypeReactiveVisibility"}),"none"==f.style.display&&(f.style.display="block"),f.style.visibility=m?"visible":"hidden")});!1!=="HypeDataMagic"in window&&HypeDataMagic.getDefault("refreshOnCustomData")&&a.refresh()};a.refreshReactiveContentDebounced=y(a.refreshReactiveContent);a.enableReactiveCustomData=function(c){a.customData=
Object.assign(a.customData,c||{});a.customData=u(a.customData,a.refreshReactiveContentDebounced)};a.enableReactiveCustomData(e("customData")||{});a.functions().HypeReactiveContent&&a.functions().HypeReactiveContent(a,b,d)}});window.HYPE_eventListeners.push({type:"HypeScenePrepareForDisplay",callback:function(a,b,d){a.refreshReactiveContentDebounced()}});!1==="HypeActionEvents"in window&&window.HYPE_eventListeners.push({type:"HypeTriggerCustomBehavior",callback:A});z&&window.addEventListener("DOMContentLoaded",
function(a){e("highlightReactiveContent")&&(a=[],e("highlightContentData")&&(a=a.concat(["[data-content*='"+e("scopeSymbol")+"']{--color:#ffcccc;}","[data-content]{--color:#f8d54f;outline:1px solid #f8d54f;position:relative}","[data-content]::before{content:attr(data-content);font-family:Helvetica,Arial;line-height:11px;font-size:9px;font-weight:normal;padding:2px 5px;white-space:nowrap;max-height:16px;color:#000;text-align:center;background-color:var(--color);position:absolute;top:-15px;left:-1px;border-top-right-radius:.2rem;border-top-left-radius:.2rem;}"])),
e("highlightVisibilityData")&&(a=a.concat(["[data-visibility*='"+e("scopeSymbol")+"']{--color:#ffcccc;}","[data-visibility]{--color:#f8d54f;}","[data-visibility]::before{content:'"+e("visibilitySymbol")+" ' attr(data-visibility);font-family:Helvetica,Arial;line-height:11px;font-size:9px;font-weight:normal;padding:2px 5px;white-space:nowrap;max-height:16px;color:#000;text-align:center;background-color:var(--color);position:absolute;top:-15px;left:-1px;border-top-right-radius:.2rem;border-top-left-radius:.2rem;}"])),
e("highlightScopeData")&&(a=a.concat(["[data-scope]{--color:#ffcccc; outline:1px dashed var(--color);}","[data-scope]::before{content:attr(data-scope);font-family:Helvetica,Arial;line-height:11px;font-size:9px;font-weight:normal;padding:2px 5px;white-space:nowrap;max-height:16px;color:#000;text-align:center;background-color:var(--color);position:absolute;bottom:-15px;left:-1px;border-bottom-right-radius:.2rem;border-bottom-left-radius:.2rem}"])),e("highlightContentData")&&e("highlightVisibilityData")&&
(a=a.concat(["[data-content][data-visibility]::before{content: attr(data-content) ' "+e("visibilitySymbol")+" ' attr(data-visibility)}"])),e("highlightVisibilityArea")&&(a=a.concat(["[data-visibility]::after {content:'';position: absolute;top: 0;left: 0;width: 100%;height: 100%;background-image:repeating-linear-gradient(45deg,transparent,transparent 10px,var(--color) 10px,var(--color) 20px);opacity: .1;}"])),a.forEach(function(b){return document.styleSheets[0].insertRule(b,0)}))});return{version:"1.1.5",
setDefault:function(a,b){"object"==typeof a?_default=a:_default[a]=b},getDefault:e,enableReactiveObject:u,disableReactiveObject:x,debounceByRequestFrame:y}}());
