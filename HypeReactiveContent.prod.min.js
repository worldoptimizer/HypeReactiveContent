/*
 Hype Reactive Content 1.1.3
copyright (c) 2022 Max Ziebell, (https://maxziebell.de). MIT-license
*/
!1==="HypeReactiveContent"in window&&(window.HypeReactiveContent=function(){function l(a){return a?_default[a]:_default}function t(a,c){return null==a||a[u]?a:new Proxy(a,{get:function(b,d,m){if(d===u)return!0;b=Reflect.get(b,d,m);return"object"===typeof b?t(b,c):b},set:function(b,d,m,g){var k=Reflect.set(b,d,m,g);c(d,m,b,g);return k}})}function w(a){if(!a[u])return a;var c={},b;for(b in a)if(a.hasOwnProperty(b)){var d=a[b];c[b]="object"===typeof d?w(d):d}return c}function x(a){return function(){if(!a.timeout){var c=
arguments;a.timeout=requestAnimationFrame(function(){a.apply(this,c);a.timeout=null}.bind(this))}}}function q(a,c,b,d){if(b){if("object"!==typeof b)return null}else{if(void 0===b)return null;b=c.customData}if(!1!=="HypeActionEvents"in window)return d=d||{},c.triggerAction(a,{element:d.element,event:{type:d.type},scope:b});try{var m=new Proxy(Object.assign({},c),{set:function(g,k,e,f){return Reflect.get(g,k,f)?Reflect.set(g,k,e,f):Reflect.set(b,k,e)},get:function(g,k,e){return(g=Reflect.get(g,k,e))?
g:Reflect.get(b,k)},has:function(g,k,e){return g.hasOwnProperty(k)||window[k]?Reflect.has(g,k,e):!0}});return(new Function("$context","with($context){ "+a+"}"))(m)}catch(g){console.error(g)}}function v(a,c,b){return b?q("return "+b,a,null,{element:c,type:"HypeReactiveScope"}):null}function y(a,c,b){!1==="HypeActionEvents"in window&&(c=b.customBehaviorName,"#"!=c.charAt(0)&&/[;=()]/.test(c)&&q(c,a,a.customData))}_default={scopeSymbol:"\u21e2",scopeSymbolLength:1,visibilitySymbol:"\ud83d\udc41"};var u=
Symbol("isProxy");!1==="HYPE_eventListeners"in window&&(window.HYPE_eventListeners=[]);window.HYPE_eventListeners.push({type:"HypeDocumentLoad",callback:function(a,c,b){a.refreshReactiveContent=function(d,m,g,k){void 0===d||void 0===m||/[;=()]/.test(m)||a.triggerCustomBehaviorNamed(d+" equals "+("string"===typeof m?'"'+m+'"':m));void 0!==d&&(l("customDataUpdate")&&l("customDataUpdate")(d,m,g,k),a.triggerCustomBehaviorNamed("customData was changed"),a.triggerCustomBehaviorNamed(d+" was updated"));
document.getElementById(a.currentSceneId()).querySelectorAll("[data-content], [data-visibility]").forEach(function(e){var f=e.getAttribute("data-content"),h=e.getAttribute("data-visibility"),n=null,p=null,r=l("scopeSymbolLength");f&&(f=f.trim(),f.startsWith(l("scopeSymbol"))?(f=f.slice(r),n=(n=e.closest("[data-scope]"))?v(a,e,n.getAttribute("data-scope")):null):f.includes(l("scopeSymbol"))&&(n=f.slice(0,f.indexOf(l("scopeSymbol"))),n=v(a,e,n),f=f.slice(f.indexOf(l("scopeSymbol"))+r)),f=q("return "+
f,a,n,{element:e,type:"HypeReactiveContent"}),e.innerHTML=void 0!==f?f:"");h&&(h=h.trim(),h.startsWith(l("scopeSymbol"))?(h=h.slice(r),p=n):h.includes(l("scopeSymbol"))&&(p=h.slice(0,h.indexOf(l("scopeSymbol"))),p=v(a,e,p),h=h.slice(h.indexOf(l("scopeSymbol"))+r)),h=q("return "+h,a,p,{element:e,type:"HypeReactiveVisibility"}),"none"==e.style.display&&(e.style.display="block"),e.style.visibility=h?"visible":"hidden")});!1!=="HypeDataMagic"in window&&HypeDataMagic.getDefault("refreshOnCustomData")&&
a.refresh()};a.refreshReactiveContentDebounced=x(a.refreshReactiveContent);a.enableReactiveCustomData=function(d){a.customData=Object.assign(a.customData,d||{});a.customData=t(a.customData,a.refreshReactiveContentDebounced)};a.enableReactiveCustomData(l("customData")||{});a.functions().HypeReactiveContent&&a.functions().HypeReactiveContent(a,c,b)}});window.HYPE_eventListeners.push({type:"HypeScenePrepareForDisplay",callback:function(a,c,b){a.refreshReactiveContentDebounced()}});!1==="HypeActionEvents"in
window&&window.HYPE_eventListeners.push({type:"HypeTriggerCustomBehavior",callback:y});return{version:"1.1.3",setDefault:function(a,c){"object"==typeof a?_default=a:_default[a]=c},getDefault:l,enableReactiveObject:t,disableReactiveObject:w,debounceByRequestFrame:x}}());
